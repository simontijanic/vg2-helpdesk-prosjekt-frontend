<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-10 text-center">
            <h1 class="display-4 mb-4">Velkommen til Helpdesk</h1>
            <p class="lead mb-4">Din IT-støtte portal for enkel og effektiv problemløsning</p>

            <% if (!locals.user) { %>
                <!-- Not logged in view -->
                <div class="row mt-5">
                    <div class="col-md-4">
                        <div class="card h-100 shadow-sm">
                            <div class="card-body">
                                <i class="fas fa-headset fa-3x text-dark mb-3"></i>
                                <h3>24/7 Support</h3>
                                <p>Få hjelp når du trenger det med vårt dedikerte support-team</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card h-100 shadow-sm">
                            <div class="card-body">
                                <i class="fas fa-tasks fa-3x text-dark mb-3"></i>
                                <h3>Spor Saker</h3>
                                <p>Hold oversikt over dine henvendelser og deres status</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card h-100 shadow-sm">
                            <div class="card-body">
                                <i class="fas fa-clock fa-3x text-dark mb-3"></i>
                                <h3>Rask Respons</h3>
                                <p>Vi prioriterer din tid med raske og effektive løsninger</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-5">
                    <a href="/login" class="btn btn-dark btn-lg px-4 me-3">Logg Inn</a>
                    <a href="/register" class="btn btn-outline-secondary btn-lg px-4">Registrer Deg</a>
                </div>

                <!-- User Manual for Not Logged In Users -->
                <div class="card mt-4">
                    <div class="card-header bg-dark text-white">
                        <h5 class="mb-0">Brukermanual - Kom i gang</h5>
                    </div>
                    <div class="card-body">
                        <h6 class="mb-3">Hvordan begynne å bruke helpdesk:</h6>
                        <ol class="mb-4">
                            <li>Registrer en ny konto ved å klikke "Registrer Deg"</li>
                            <li>Fyll ut din e-postadresse og velg et sikkert passord</li>
                            <li>Logg inn med din nye konto</li>
                            <li>Opprett din første support-sak</li>
                        </ol>

                        <h6 class="mb-3">Viktig å vite:</h6>
                        <ul>
                            <li>Bruk en gyldig e-postadresse du har tilgang til</li>
                            <li>Passord må være minst 6 tegn langt</li>
                            <li>Hold påloggingsinformasjonen din sikker</li>
                        </ul>
                    </div>
                </div>

            <% } else if (locals.user.role === 'admin') { %>
                <!-- Admin view -->
                <div class="row mt-5">
                    <div class="col-12">
                        <div class="card bg-dark text-white h-100 shadow-lg">
                            <div class="card-body text-center py-5">
                                <i class="fas fa-tachometer-alt fa-4x mb-4 text-white"></i>
                                <h2 class="display-6 mb-4">Admin Dashboard</h2>
                                <p class="lead mb-4">Oversikt over support-saker og brukeradministrasjon</p>
                                <a href="/dashboard" class="btn btn-light btn-lg px-5">
                                    <i class="fas fa-arrow-right me-2"></i>
                                    Gå til Dashboard
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Admin Manual -->
                <div class="card mt-4">
                    <div class="card-header bg-dark text-white">
                        <h5 class="mb-0">Administratormanual</h5>
                    </div>
                    <div class="card-body">
                        <h6 class="mb-3">Administrative oppgaver:</h6>
                        <ul class="mb-4">
                            <li>Overvåk alle support-saker</li>
                            <li>Tildel saker til riktig support-nivå</li>
                            <li>Administrer brukerrettigheter</li>
                            <li>Se statistikk og rapporter</li>
                        </ul>

                        <h6 class="mb-3">Beste praksis:</h6>
                        <ul>
                            <li>Gjennomgå nye saker daglig</li>
                            <li>Hold supportteamet oppdatert</li>
                            <li>Følg opp uløste saker</li>
                            <li>Sørg for jevn arbeidsfordeling</li>
                        </ul>
                    </div>
                </div>

            <% } else if (locals.user.role === 'first-line' || locals.user.role === 'second-line') { %>
                <!-- Support Staff View -->
                <div class="row mt-5">
                    <div class="col-12">
                        <div class="card bg-dark text-white h-100 shadow-lg">
                            <div class="card-body text-center py-5">
                                <i class="fas fa-headset fa-4x mb-4 text-white"></i>
                                <h2 class="display-6 mb-4">Support Dashboard - <%= locals.user.role === 'first-line' ? '1. linje' : '2. linje' %></h2>
                                <p class="lead mb-4">Håndter og følg opp tildelte support-saker</p>
                                <a href="/tickets" class="btn btn-light btn-lg px-5">
                                    <i class="fas fa-arrow-right me-2"></i>
                                    Gå til Support-saker
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Support Staff Quick Stats -->
                <div class="row mt-4">
                    <div class="col-md-6">
                        <div class="card shadow-sm">
                            <div class="card-body text-center">
                                <i class="fas fa-tasks fa-3x text-dark mb-3"></i>
                                <h3>Aktive Saker</h3>
                                <p class="mb-0">Se og håndter saker tildelt din support-linje</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card shadow-sm">
                            <div class="card-body text-center">
                                <i class="fas fa-comments fa-3x text-dark mb-3"></i>
                                <h3>Kommunikasjon</h3>
                                <p class="mb-0">Følg opp og kommuniser med brukere</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Support Staff Manual -->
                <div class="card mt-4">
                    <div class="card-header bg-<%= locals.user.role === 'first-line' ? 'info' : 'primary' %> text-white">
                        <h5 class="mb-0">Support Manual - <%= locals.user.role === 'first-line' ? '1. linje' : '2. linje' %></h5>
                    </div>
                    <div class="card-body">
                        <% if (locals.user.role === 'first-line') { %>
                            <h6 class="mb-3">Håndtering av saker:</h6>
                            <ol class="mb-4">
                                <li>Gjennomgå nye saker jevnlig</li>
                                <li>Sett riktig prioritet basert på:
                                    <ul>
                                        <li>Antall berørte brukere</li>
                                        <li>Kritikalitet for drift</li>
                                        <li>Tidsaspekt</li>
                                    </ul>
                                </li>
                                <li>Oppdater status løpende</li>
                                <li>Kommuniser tydelig med brukeren</li>
                            </ol>

                            <h6 class="mb-3">Når eskalere til 2. linje:</h6>
                            <ul>
                                <li>Komplekse tekniske problemer</li>
                                <li>Behov for systemendringer</li>
                                <li>Saker som krever spesialkompetanse</li>
                            </ul>
                        <% } else { %>
                            <h6 class="mb-3">Håndtering av eskalerte saker:</h6>
                            <ol class="mb-4">
                                <li>Gjennomgå dokumentasjon fra 1. linje</li>
                                <li>Vurder systemendringer</li>
                                <li>Utfør grundig rotårsaksanalyse</li>
                                <li>Dokumenter løsninger for fremtiden</li>
                            </ol>

                            <h6 class="mb-3">Beste praksis:</h6>
                            <ul>
                                <li>Hold 1. linje informert</li>
                                <li>Dokumenter alle systemendringer</li>
                                <li>Oppdater kunnskapsbasen</li>
                                <li>Foreslå forbedringer</li>
                            </ul>
                        <% } %>
                    </div>
                </div>

            <% } else { %>
                <!-- Regular user view -->
                <div class="row mt-5">
                    <div class="col-md-6 mb-4">
                        <div class="card h-100 shadow-sm">
                            <div class="card-body text-center">
                                <i class="fas fa-plus-circle fa-3x text-dark mb-3"></i>
                                <h3>Opprett Ny Sak</h3>
                                <p class="mb-4">Trenger du hjelp? Opprett en ny support-sak her.</p>
                                <a href="/tickets/create" class="btn btn-dark btn-lg">Opprett Sak</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="card h-100 shadow-sm">
                            <div class="card-body text-center">
                                <i class="fas fa-list-alt fa-3x text-dark mb-3"></i>
                                <h3>Mine Saker</h3>
                                <p class="mb-4">Se status og oppdateringer på dine eksisterende saker.</p>
                                <a href="/tickets" class="btn btn-dark btn-lg">Se Mine Saker</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card mt-4 bg-light">
                    <div class="card-body">
                        <h4><i class="fas fa-info-circle"></i> Tips</h4>
                        <p class="mb-0">Husk å inkludere så mye relevant informasjon som mulig når du oppretter en ny sak. Dette hjelper oss å løse problemet ditt raskere!</p>
                    </div>
                </div>

                <!-- User Manual -->
                <div class="card mt-4">
                    <div class="card-header bg-dark text-white">
                        <h5 class="mb-0">Brukermanual</h5>
                    </div>
                    <div class="card-body">
                        <h6 class="mb-3">Hvordan opprette en support-sak:</h6>
                        <ol class="mb-4">
                            <li>Klikk på "Opprett Ny Sak" knappen</li>
                            <li>Fyll ut en beskrivende tittel</li>
                            <li>Beskriv problemet detaljert</li>
                            <li>Velg riktig kategori for saken</li>
                            <li>Send inn saken</li>
                        </ol>

                        <h6 class="mb-3">Tips for god beskrivelse:</h6>
                        <ul class="mb-4">
                            <li>Beskriv hva som skjedde</li>
                            <li>Når oppstod problemet?</li>
                            <li>Har du prøvd noe selv?</li>
                            <li>Inkluder eventuelle feilmeldinger</li>
                        </ul>
                    </div>
                </div>
            <% } %>
        </div>
    </div>
</div>
